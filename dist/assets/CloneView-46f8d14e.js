import{_ as w,o as d,c as l,b as f,F as b,r as B,w as r,t as x,p as S,f as h,g as P,e as g}from"./index-a02b7e9f.js";import{C as A,P as F,B as O}from"./ButtonsList-fe88c114.js";const T=a=>(S("data-v-58dc743c"),a=a(),h(),a),V={class:"demo"},$={class:"drop-zone"},j=T(()=>f("h3",null,"First list",-1)),q=["onDragstart","onDrop"],z=T(()=>f("h3",null,"Second list",-1)),E=["onDragstart","onDrop"],N={__name:"Clone",props:{firstList:{type:Array,required:!0},secondList:{type:Array,required:!0}},setup(a){const{firstList:u,secondList:n}=a,c=(s,t,e)=>{s.dataTransfer.dropEffect="copy",s.dataTransfer.effectAllowed="copy",s.dataTransfer.setData("itemId",t.id),e&&s.dataTransfer.setData("itemList",e)},p=(s,t)=>{const e=s.dataTransfer.getData("itemId");return{item:t===1?u.find(i=>i.id==e):n.find(i=>i.id==e),itemId:e}},L=(s,t,e,o)=>{const{item:i,itemId:D}=o===1?p(s,1):p(s),v=t.findIndex(I=>I.id==D),m=t.findIndex(I=>I.id==e.id);t.splice(v,1),t.splice(m,0,i)},y=s=>s.target.classList.add("on-over"),_=s=>s.target.classList.remove("on-over"),C=(s,t,e)=>{if(_(s),s.dataTransfer.getData("itemList")==1&&e===2){const{item:o}=p(s,1),i={id:n.length,title:"Clone "+o.title};n.push(i);const D=n.findIndex(m=>i.id==m.id),v=n.findIndex(m=>m.id==t.id);n.splice(D,1),n.splice(v,0,i);return}e===1?L(s,u,t,e):L(s,n,t,e)},k=s=>{const{item:t}=p(s,1);s.dataTransfer.getData("itemList")!=2&&n.push({id:n.length,title:"Clone: "+t.title})};return(s,t)=>(d(),l("div",V,[f("div",$,[j,(d(!0),l(b,null,B(a.firstList,e=>(d(),l("div",{class:"drag-el",key:e.id,draggable:"true",onDragstart:o=>c(o,e,1),onDrop:o=>C(o,e,1),onDragover:t[0]||(t[0]=r(o=>y(o),["prevent"])),onDragleave:t[1]||(t[1]=r(o=>_(o),["prevent"])),onDragenter:t[2]||(t[2]=r(()=>{},["prevent"]))},x(e.title),41,q))),128))]),f("div",{class:"drop-zone",onDrop:t[6]||(t[6]=e=>k(e)),onDragenter:t[7]||(t[7]=r(()=>{},["prevent"])),onDragover:t[8]||(t[8]=r(()=>{},["prevent"]))},[z,(d(!0),l(b,null,B(a.secondList,e=>(d(),l("div",{class:"drag-el",key:e.id,draggable:"true",onDragstart:o=>c(o,e,2),onDrop:r(o=>C(o,e,2),["stop"]),onDragover:t[3]||(t[3]=r(o=>y(o),["prevent"])),onDragleave:t[4]||(t[4]=r(o=>_(o),["prevent"])),onDragenter:t[5]||(t[5]=r(()=>{},["prevent"]))},x(e.title)+" id: "+x(e.id),41,E))),128))],32)]))}},M=w(N,[["__scopeId","data-v-58dc743c"]]),G={class:"main__example example"},H=f("h1",{class:"example__title"},"Clone",-1),Q={__name:"CloneView",setup(a){const u=[{name:"firstList",text:"Object[] - items for 1 list."},{name:"secondList",text:"Object[] - items for 2 list."}],n=P([{id:0,title:"Item AðŸ™‚"},{id:1,title:"Item BâœŒï¸"},{id:2,title:"Item CðŸ‘"}]),c=P([{id:0,title:"2L: Item A"}]);return(p,L)=>(d(),l("section",G,[H,g(M,{firstList:n.value,secondList:c.value},null,8,["firstList","secondList"]),g(A,{items:n.value,items2:c.value},null,8,["items","items2"]),g(F,{list:u}),g(O,{link:"https://github.com/skiff26/dragdrop/blob/main/src/components/examples/Clone.vue"})]))}};export{Q as default};
